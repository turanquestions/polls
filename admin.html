<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ü–∞–Ω–µ–ª—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –°–∞–π—Ç –æ–ø—Ä–æ—Å–æ–≤</title>
    <link rel="stylesheet" href="/styles.css" />
    <link rel="icon" href="/img/admin_icon.png" type="image/x-icon" /> <!-- –ù—É–∂–Ω–∞ –∏–∫–æ–Ω–∫–∞ -->
    <script src="https://www.gstatic.com/firebasejs/11.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.7.1/firebase-firestore-compat.js"></script>
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã */
        .admin-container { padding: 20px; max-width: 900px; margin: 20px auto; }
        .admin-section { margin-bottom: 30px; background-color: var(--card-bg); padding: 20px; border-radius: var(--fluent-border-radius); box-shadow: var(--shadow-depth-1); }
        .admin-section h2 { margin-top: 0; color: var(--accent-primary); border-bottom: 1px solid var(--border-color); padding-bottom: 10px; margin-bottom: 20px;}
        #create-poll-form label { margin-top: 15px; display: block; font-weight: 500; }
        #create-poll-form input[type="text"],
        #create-poll-form textarea,
        #create-poll-form select,
        #create-poll-form input[type="number"] { width: 100%; margin-top: 5px; }
        #questions-container .question-block { border: 1px solid var(--border-color); padding: 15px; margin-top: 15px; border-radius: var(--fluent-border-radius); }
        #questions-container .option-block input[type="text"] { width: calc(100% - 70px); margin-right: 10px; }
        .remove-btn { background-color: #e74c3c; color: white; border:none; padding: 5px 10px; border-radius: var(--fluent-border-radius); cursor: pointer; font-size:0.8rem;}
        .add-btn { background-color: var(--accent-secondary); margin-top:10px; }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <header>
        <button class="menu-toggle" id="menuToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-expanded="false" aria-controls="side-menu">‚ò∞</button>
        <h1>–ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h1>
        <button class="theme-switcher" id="themeSwitcher" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"><span class="moon-icon">üåô</span><span class="sun-icon">‚òÄÔ∏è</span></button>
    </header>

    <nav class="side-menu" id="side-menu" aria-labelledby="menuToggle">
        <ul>
            <li class="menu-section-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</li>
            <li><a href="/index.html">–ù–∞ —Å–∞–π—Ç</a></li>
            <li id="nav-admin-panel-link" style="display: none;"><a href="/admin.html" class="active">–ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</a></li>
            <li id="nav-profile-item" style="display: none;"><a href="/profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
            <li id="nav-logout-item" style="display: none;"><a href="#" id="logout-link">–í—ã—Ö–æ–¥</a></li>
        </ul>
    </nav>

    <div class="content-wrapper">
        <main class="content admin-container" id="admin-main-content" style="display:none;">
            <section id="loading-admin-panel" class="admin-section" style="text-align: center;">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...</p>
            </section>

            <section id="access-denied-admin-panel" class="admin-section" style="display:none; text-align: center; background-color: #e74c3c; color:white;">
                <h2>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!</h2>
                <p>–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
                <a href="/index.html" class="button-style" style="background-color: white; color: #333; margin-top:15px;">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</a>
            </section>

            <div id="admin-panel-content" style="display:none;">
                <section class="admin-section">
                    <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–ø—Ä–æ—Å</h2>
                    <form id="create-poll-form">
                        <div>
                            <label for="poll-title">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</label>
                            <input type="text" id="poll-title" name="poll-title" required>
                        </div>
                        <div>
                            <label for="poll-description">–û–ø–∏—Å–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:</label>
                            <textarea id="poll-description" name="poll-description" rows="3" required></textarea>
                        </div>
                        <div>
                            <label for="poll-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="poll-category" name="poll-category" required>
                                <option value="anime">–ê–Ω–∏–º–µ</option>
                                <option value="games">–ò–≥—Ä—ã</option>
                                <option value="music">–ú—É–∑—ã–∫–∞</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                        <div>
                            <label for="poll-points-completion">–û—á–∫–∏ –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ:</label>
                            <input type="number" id="poll-points-completion" name="poll-points-completion" value="10" min="0" required>
                        </div>
                        <div>
                            <input type="checkbox" id="poll-is-locked" name="poll-is-locked" style="margin-right: 5px; vertical-align: middle;">
                            <label for="poll-is-locked" style="display: inline; font-weight: normal;">–ó–∞–∫—Ä—ã—Ç—ã–π –æ–ø—Ä–æ—Å (—Ç—Ä–µ–±—É–µ—Ç –æ—á–∫–æ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞)</label>
                        </div>
                        <div id="points-to-unlock-container" style="display:none;">
                            <label for="poll-points-unlock">–û—á–∫–æ–≤ –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:</label>
                            <input type="number" id="poll-points-unlock" name="poll-points-unlock" value="50" min="0">
                        </div>
                        <hr style="margin: 20px 0;">
                        <h3>–í–æ–ø—Ä–æ—Å—ã:</h3>
                        <div id="questions-container">
                            <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤–æ–ø—Ä–æ—Å—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        <button type="button" id="add-question-btn" class="add-btn button-style">–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</button>
                        <hr style="margin: 20px 0;">
                        <button type="submit" class="button-style">–°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å</button>
                    </form>
                </section>

                <!-- –î—Ä—É–≥–∏–µ —Å–µ–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞–º–∏ –∏ —Ç.–¥.) –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ -->
                 <section class="admin-section">
                    <h2>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ä–æ—Å—ã (—Å–∫–æ—Ä–æ)</h2>
                    <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è.</p>
                </section>
            </div>
        </main>
        <footer style="text-align:center; padding: 20px; margin-top:auto; background-color: var(--footer-bg); color: var(--footer-text);">
            <p>&copy; <span id="currentYear"></span> –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å - –°–∞–π—Ç –û–ø—Ä–æ—Å–æ–≤</p>
        </footer>
    </div>

    <script src="/js/firebase-config.js"></script>
    <script src="/script.js"></script> <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–µ–Ω—é, —Ç–µ–º—ã, auth state -->
    <script src="/js/admin.js"></script> <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –ª–æ–≥–∏–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
</body>
</html>